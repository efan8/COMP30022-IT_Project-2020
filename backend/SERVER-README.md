In order to gain access to the database the user must first either sign up or login:
These functionalities are supported by the following HTTP requests:

To "signup":

    PUT: localhost:3001/api/signup

where the following 4 arguments are included in the request body:
    a first name, last name, email and a password (at least 6 characters long)

To login:
    POST: localhost:3001/api/login

    which includes an idToken in the body which must be already generated by the Firebase
    database by the frontend

To "GET" the status of the current ID token of the frontend user (stored in a message cookie):

    GET: localhost:3001/api/login_status



Server.js currently supports the following requests to the database:


To "GET" all the artifacts in the database:

    GET: localhost:3001/api/artifacts

To "GET" a specific artifact with itemid = 1234

    GET: localhost:3001/api/artifacts
    where in the message's query the item_id is included

    eg
    localhost:3001/api/artifacts?item_id=-LpcM-nohsWusv7Hf67-

    where
        "-LpcM-nohsWusv7Hf67-"
    is the item_id stored as "id" in the database.


To enter an artifact into the database using a PUT request

    PUT: localhost:3001/api/artifacts

    Where an artifact in the following format is included in the body:


    {
      "name": "IMG5000.jpg",
      "description": "Photo of Sydney Opera House",
      "ownerID": "abc123",
      "originDate": 1548823080,
      "originLocation": {
        "lat": -33.855659,
        "long": 151.210553
      },
      "knownLocation": {
        "lat": -82.468636,
        "long": -87.998860
      },
      "collectionID": 2019,
      "tags": {
        "photo": true,
        "Sydney": true,
        "architecture": true
      },
      "imageURLs": {
        0: "url1",
        1: "url2",
        2: "url3"
      }
    }

To EDIT an item in the database using PUT request:

    PUT: localhost:3001/api/artifacts

    Where an artifact in the following format is included in the body:
    id, dateAdded and dateLastModified are all required fields
    The last two can be obtained by first getting the item from the database using a GET request
    with the id
    {
            "id": "-LpcNMqpC3eyQxPTc5yv",
            "name": "editedwed.jpg",
            "description": "Photo of Sydney Opera House - with a fake/pretend actual edit",
            "ownerID": "abc123",
            "imageURL": "",
            "dateAdded": 1569413926246,
            "dateLastModified": 1569413926246,
            "originDate": 1548823080,
            "originLocation": {
                "lat": -33.855659,
                "long": 151.210553
            },
            "knownLocation": {
                "lat": -82.468636,
                "long": -87.99886
            },
            "collectionID": 2019,
            "tags": {
                "Sydney": true,
                "architecture": true,
                "photo": true
            }
    }

To upload an image to the database send a request to the endpoint with a binary file in Form Data:

This call occurs after the frontend has already uploaded the rest of the artifact information and has
received the item_id from the backend.
This item_id is then added to the message's query

where in the message's query the item_id is included

    POST localhost:3001/api/upload_image
    
where the file and item_id is stored in fields of Form Data

The frontend will then make a third call to the backend updating the artifact entry in the database with
the URL of the images stored on Firebase this is the "imageURL": "<example_url>" field. Which is initially
an empty string.


